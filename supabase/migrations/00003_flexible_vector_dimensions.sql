-- ============================================================================
-- Embedding 维度灵活化 — 移除固定 1536 维度约束
-- 支持不同 Embedding 模型输出的不同维度向量
-- ============================================================================

-- 将 embedding 列从 vector(1536) 改为不限维度的 vector 类型
-- 注意：更换 Embedding 模型（维度变化）后，必须重新生成所有已有向量数据。
-- 不同维度的向量不能混合进行相似度搜索。
ALTER TABLE document_chunks
  ALTER COLUMN embedding TYPE vector;
